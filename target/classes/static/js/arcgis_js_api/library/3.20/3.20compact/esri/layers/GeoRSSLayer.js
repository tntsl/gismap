// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(n,m,g,h,e,a,r,c,k,b,t,D,E,z,C){n=n([E],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(a,b){this.pointSymbol=
b&&b.pointSymbol;this.polylineSymbol=b&&b.polylineSymbol;this.polygonSymbol=b&&b.polygonSymbol;this._outSR=b&&(b.outSpatialReference||b.outSR)||new k({wkid:4326});this._options=g.mixin({},b)},parse:function(){console.error("parse function has not been implemented")},getFeatureLayers:function(){var a=[];this._fLayers&&(a=a.concat(this._fLayers));return a},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(a){var b=
this;this._fireUpdateStart();a=this.parse(a);a.addCallback(function(d){b._io=null;b._initLayer(d)});a.addErrback(function(d){b._io=null;d=g.mixin(Error(),d);d.message="Unable to load resource: "+b.url+" "+(d.message||"");b._fireUpdateEnd(d);b.onError(d)})},_initLayer:function(a){this.loaded&&this._removeInternalLayers();this.name=a.name;this.description=a.description;this.snippet=a.snippet;this.featureInfos=a.featureInfos;this.fullExtent=this.initialExtent=new b(a.lookAtExtent);this.copyright=a.author||
a.copyright;var c;(a=g.getObject("featureCollection.layers",!1,a))&&0<a.length&&(this._fLayers=[],h.forEach(a,function(d,a){var b=g.getObject("featureSet.features",!1,d);b&&0<b.length&&(c=g.mixin({outFields:["*"],infoTemplate:d.popupInfo?new C(d.popupInfo):null,editable:!1},this._options),c.id&&(c.id=c.id+"_"+a),d.layerDefinition.capabilities="Query,Data",b=new z(d,c),b.geometryType&&(this["_"+b.geometryType]=b),this._fLayers.push(b))},this),0===this._fLayers.length&&delete this._fLayers);this.items=
[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),this.pointSymbol&&(a=new D(this.pointSymbol),this._esriGeometryPoint.setRenderer(a)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(a=new D(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(a)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(a=new D(this.polygonSymbol),
this._esriGeometryPolygon.setRenderer(a)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),this.onRefresh())},_addInternalLayers:function(){var a=this._map;this._fireUpdateStart();var b=a.spatialReference,d=this._outSR,w;if(b.wkid)w=b._isWebMercator()&&d._isWebMercator()||b.wkid===d.wkid;else if(b.wkt)w=b.wkt===d.wkt;else{console.log("_setMap - map has invalid spatial reference");return}if(!w)if(b._isWebMercator()&&4326===d.wkid)this._converter=t.geographicToWebMercator;else if(d._isWebMercator()&&
4326===b.wkid)this._converter=t.webMercatorToGeographic;else{console.log("_setMap - unsupported workflow. Spatial reference of the map and layer do not match, and the conversion cannot be done on the client.");return}(b=this._fLayers)&&0<b.length&&h.forEach(b,function(d){if(this._converter){var b=d.graphics,p,f,u=b?b.length:0;for(p=0;p<u;p++)(f=b[p].geometry)&&b[p].setGeometry(this._converter(f))}a.addLayer(d)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var a=
this._map;a&&h.forEach(this.getFeatureLayers(),a.removeLayer,a)},setScaleRange:function(a,b){this.inherited(arguments);h.forEach(this.getFeatureLayers(),function(d){d.setScaleRange(a,b)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(a){this.opacity!=a&&(h.forEach(this.getFeatureLayers(),function(b){b.setOpacity(a)}),this.opacity=this._options.opacity=a,this.onOpacityChange(a))},onVisibilityChange:function(a){this._fireUpdateStart();h.forEach(this.getFeatureLayers(),
function(b){b.setVisibility(a)});this._fireUpdateEnd()},_setMap:function(b,c){this.inherited(arguments);this._map=b;var d=this._div=e.create("div",null,c);a.set(d,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return d},_unsetMap:function(a,b){this._io&&this._io.cancel();m.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var d=this._div;d&&(b.removeChild(d),e.destroy(d));this._div=null;this.inherited(arguments)}});r("extend-esri")&&
g.setObject("layers._ServiceGeneratedFeatureCollection",n,c);return n})},"esri/dijit/PopupTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom-construct ../kernel ../InfoTemplate ../PopupInfo ./PopupRenderer".split(" "),function(n,m,g,h,e,a,r,c){n=n([a,r],{declaredClass:"esri.dijit.PopupTemplate","-chains-":{constructor:"manual"},chartTheme:null,constructor:function(a,b){m.mixin(this,b);this.initialize(a,b)},getTitle:function(a){var b;this.info&&(b=this.titleHasRelatedFields?
"":this._getPopupValues(a,!0).title);return b||""},getContent:function(a){return this.info?(new c({template:this,graphic:a,chartTheme:this.chartTheme},h.create("div"))).domNode:""}});g("extend-esri")&&m.setObject("dijit.PopupTemplate",n,e);return n})},"esri/PopupInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/i18n dojo/has dojo/Deferred dojo/sniff dojo/promise/all ./lang ./kernel ./request ./tasks/query ./tasks/QueryTask ./tasks/RelationshipQuery ./tasks/StatisticDefinition dojo/i18n!dojo/cldr/nls/number".split(" "),
function(n,m,g,h,e,a,r,c,k,b,t,D,E,z,C,J,G){n=n(null,{declaredClass:"esri.PopupInfo",initialize:function(a,b){if(a){m.mixin(this,b);this.info=a;this.title=this.getTitle;this.content=this.getContent;var d=this._fieldLabels={},w=this._fieldsMap={};a.fieldInfos&&g.forEach(a.fieldInfos,function(a){var b=a.fieldName.toLowerCase();d[b]=a.label;w[b]=a});this._relatedFieldPrefix="relationships/";this.titleHasRelatedFields=!(!a.title||-1===a.title.indexOf("{"+this._relatedFieldPrefix))}},toJson:function(){return h.fromJson(h.toJson(this.info))},
getTitle:function(){},getContent:function(){},getFieldInfo:function(a){var b;g.some(this.info&&this.info.fieldInfos,function(d){d.fieldName===a&&(b=d);return!!b});return b},getComponents:function(a){var b=this.info,d=new r,c,p;b.fieldInfos&&(p=g.filter(b.fieldInfos,function(a){return-1!==a.fieldName.indexOf(this._relatedFieldPrefix)},this));p&&0<p.length&&(c=this._getRelatedRecords({graphic:a,fieldsInfo:p}));c?c.always(m.hitch(this,function(){d.resolve(this._getPopupValues(a))})):d.resolve(this._getPopupValues(a));
return d.promise},getAttachments:function(a){var b=a.getLayer();a=a.attributes;if(this.info.showAttachments&&b&&b.hasAttachments&&b.objectIdField&&(a=a&&a[b.objectIdField]))return b.queryAttachmentInfos(a)},_getPopupValues:function(a,c){var d=this.info,w=a.getLayer(),p=m.clone(a.attributes)||{},f=m.clone(p),u=d.fieldInfos,x="",l="",q,v,A,k,e,r=w&&w._getDateOpts&&w._getDateOpts().properties,r=r&&r.slice(0),h={dateFormat:{properties:r,formatter:"DateFormat"+this._insertOffset(this._dateFormats.shortDateShortTime)}};
if(this._relatedInfo)for(k in this._relatedInfo)if(this._relatedInfo.hasOwnProperty(k)){var t=this._relatedInfo[k],E=this._relatedLayersInfo[k];t&&(g.forEach(t.relatedFeatures,function(a){for(e in a.attributes)if(a.attributes.hasOwnProperty(e)&&"esriRelCardinalityOneToOne"===E.relation.cardinality){var l=this._toRelatedFieldName([E.relation.id,e]);p[l]=f[l]=a.attributes[e]}},this),g.forEach(t.relatedStatsFeatures,function(a){for(e in a.attributes)if(a.attributes.hasOwnProperty(e)){var l=this._toRelatedFieldName([E.relation.id,
e]);p[l]=f[l]=a.attributes[e]}},this))}u&&g.forEach(u,function(a){v=a.fieldName;var l=this._getLayerFieldInfo(w,v);l&&(v=a.fieldName=l.name);f[v]=this._formatValue(f[v],v,h);r&&a.format&&a.format.dateFormat&&(a=g.indexOf(r,v),-1<a&&r.splice(a,1))},this);if(w){k=w.types;var n=(t=w.typeIdField)&&p[t];for(v in p)if(p.hasOwnProperty(v)&&-1===v.indexOf(this._relatedFieldPrefix)&&(A=p[v],b.isDefined(A))){var D=this._getDomainName(w,a,k,n,v,A);b.isDefined(D)?f[v]=D:v===t&&(D=this._getTypeName(w,a,A),b.isDefined(D)&&
(f[v]=D))}}d.title&&(x=this._processFieldsInLinks(this._fixTokens(d.title,w),p),x=m.trim(b.substitute(f,x,h)||""));if(c)return{title:x};d.description&&(l=this._processFieldsInLinks(this._fixTokens(d.description,w),p),l=m.trim(b.substitute(f,l,h)||""));u&&(q=[],g.forEach(u,function(a){(v=a.fieldName)&&a.visible&&q.push([a.label||v,b.substitute(f,"${"+v+"}",h)||""])}));var z,G;d.mediaInfos&&(z=[],g.forEach(d.mediaInfos,function(a){G=0;A=a.value;switch(a.type){case "image":var l=A.sourceURL,l=l&&m.trim(b.substitute(p,
this._fixTokens(l,w)));G=!!l;break;case "piechart":case "linechart":case "columnchart":case "barchart":var q,l=A.normalizeField;A.fields=g.map(A.fields,function(a){return(q=this._getLayerFieldInfo(w,a))?q.name:a},this);l&&(q=this._getLayerFieldInfo(w,l),A.normalizeField=q?q.name:l);G=g.some(A.fields,function(a){return b.isDefined(p[a])||-1!==a.indexOf(this._relatedFieldPrefix)&&this._relatedInfo},this);break;default:return}if(G){a=m.clone(a);A=a.value;var l=a.title?this._processFieldsInLinks(this._fixTokens(a.title,
w),p):"",d=a.caption?this._processFieldsInLinks(this._fixTokens(a.caption,w),p):"";a.title=l?m.trim(b.substitute(f,l,h)||""):"";a.caption=d?m.trim(b.substitute(f,d,h)||""):"";if("image"===a.type)A.sourceURL=b.substitute(p,this._fixTokens(A.sourceURL,w)),A.linkURL&&(A.linkURL=m.trim(b.substitute(p,this._fixTokens(A.linkURL,w))||""));else{var v,u;g.forEach(A.fields,function(a,l){if(-1!==a.indexOf(this._relatedFieldPrefix))u=this._getRelatedChartInfos(a,A,p,h),u instanceof Array?A.fields=u:A.fields[l]=
u;else{var q=p[a],q=void 0===q?null:q;v=p[A.normalizeField]||0;q&&v&&(q/=v);A.fields[l]={y:q,tooltip:(this._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(q,a,h,!!v)}}},this)}z.push(a)}},this));return{title:x,description:l,hasDescription:!!d.description,fields:q&&q.length?q:null,mediaInfos:z&&z.length?z:null,formatted:f,editSummary:w&&w.getEditSummary?w.getEditSummary(a):""}},_getRelatedChartInfos:function(a,w,c,k){var p,f,d,x,l,q;p=[];q=this._fromRelatedFieldName(a);l=q[0];f=this._relatedInfo[l];
l=this._relatedLayersInfo[l];f&&g.forEach(f.relatedFeatures,function(l){l=l.attributes;var f,v;for(v in l)if(l.hasOwnProperty(v)&&v===q[1]){f={};x=l[v];w.normalizeField&&(d=-1!==w.normalizeField.indexOf(this._relatedFieldPrefix)?l[this._fromRelatedFieldName(w.normalizeField)[1]]:c[w.normalizeField]);x&&d&&(x/=d);if(w.tooltipField)if(-1!==w.tooltipField.indexOf(this._relatedFieldPrefix)){var u=this._fromRelatedFieldName(w.tooltipField)[1],e=b.isDefined(l[u])?l[u]:u;f.tooltip=e+":\x3cbr/\x3e"+this._formatValue(x,
u,k,!!d)}else f.tooltip=(this._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(x,w.tooltipField,k,!!d);else f.tooltip=x;f.y=x;p.push(f)}},this);return"esriRelCardinalityOneToMany"===l.relation.cardinality||"esriRelCardinalityManyToMany"===l.relation.cardinality?p:p[0]},_dateFormats:{shortDate:"(datePattern: 'M/d/y', selector: 'date')",shortDateLE:"(datePattern: 'd/M/y', selector: 'date')",longMonthDayYear:"(datePattern: 'MMMM d, y', selector: 'date')",dayShortMonthYear:"(datePattern: 'd MMM y', selector: 'date')",
longDate:"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",shortDateShortTime:"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateLEShortTime:"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateShortTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLEShortTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLongTime:"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
shortDateLELongTime:"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLongTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",shortDateLELongTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthYear:"(datePattern: 'MMMM y', selector: 'date')",shortMonthYear:"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"},_reHref:/href\s*=\s*\"([^\"]+)\"/ig,_reHrefApos:/href\s*=\s*\'([^\']+)\'/ig,
_fixTokens:function(a,b){var d=this;return a.replace(/(\{([^\{\r\n]+)\})/g,function(a,p,f){a=d._getLayerFieldInfo(b,f);return"$"+(a?"{"+a.name+"}":p)})},_encodeAttributes:function(a){a=m.clone(a)||{};var b,d;for(b in a)(d=a[b])&&"string"===typeof d&&(d=encodeURIComponent(d).replace(/\'/g,"\x26apos;"),a[b]=d);return a},_processFieldsInLinks:function(a,b){var d=this._encodeAttributes(b),c=this;a&&(a=a.replace(this._reHref,function(a,f){return c._addValuesToHref(a,f,b,d)}).replace(this._reHrefApos,function(a,
f){return c._addValuesToHref(a,f,b,d)}));return a},_addValuesToHref:function(a,c,k,e){c=c&&m.trim(c);return b.substitute(c&&0===c.indexOf("${")?k:e,a)},_getLayerFieldInfo:function(a,b){return a&&a.getField?a.getField(b):null},_formatValue:function(a,c,k,e){var p=this._fieldsMap[c.toLowerCase()],f=p&&p.format;c=-1!==g.indexOf(k.dateFormat.properties,c);var d="number"===typeof a&&!c&&(!f||!f.dateFormat);if(!b.isDefined(a)||!p||!b.isDefined(f))return d?this._forceLTR(a):a;var x="",p=[],l=f.hasOwnProperty("places")||
f.hasOwnProperty("digitSeparator"),q=f.hasOwnProperty("digitSeparator")?f.digitSeparator:!0;if(l&&!c)x="NumberFormat",p.push("places: "+(b.isDefined(f.places)&&(!e||0<f.places)?Number(f.places):"Infinity")),p.length&&(x+="("+p.join(",")+")");else if(f.dateFormat)x="DateFormat"+this._insertOffset(this._dateFormats[f.dateFormat]||this._dateFormats.shortDateShortTime);else return d?this._forceLTR(a):a;var v=this._applyFormatting(a,x,k);l&&-1<a.constructor.toString().indexOf("Array")&&(v="",g.forEach(a,
m.hitch(this,function(a,l){l&&(v+=" ");v+=this._applyFormatting(a,x,k)})));l&&!q&&G.group&&(v=v.replace(new RegExp("\\"+G.group,"g"),""));c&&(v='\x3cspan class\x3d"esriDateValue"\x3e'+v+"\x3c/span\x3e");return d?this._forceLTR(v):v},_applyFormatting:function(a,c,k){return b.substitute({myKey:a},"${myKey:"+c+"}",k)||""},_forceLTR:function(a){var b=c("ie");return b&&10>=b?a:"\x3cspan class\x3d'esriNumericValue'\x3e"+a+"\x3c/span\x3e"},_insertOffset:function(a){a&&(a=b.isDefined(this.utcOffset)?a.replace(/\)\s*$/,
", utcOffset:"+this.utcOffset+")"):a);return a},_getDomainName:function(a,b,c,k,p,f){return(a=a.getDomain&&a.getDomain(p,{feature:b}))&&a.codedValues?a.getName(f):null},_getTypeName:function(a,b,c){return(a=a.getType&&a.getType(b))&&a.name},_getRelatedRecords:function(a){var b=a.graphic,c=new r,d;this._relatedLayersInfo?this._queryRelatedLayers(b).then(m.hitch(this,function(a){this._setRelatedRecords(b,a);c.resolve(a)}),m.hitch(this,this._handlerErrorResponse,c)):this._getRelatedLayersInfo(a).then(m.hitch(this,
function(a){for(d in a)a.hasOwnProperty(d)&&a[d]&&(this._relatedLayersInfo[d].relatedLayerInfo=a[d]);this._queryRelatedLayers(b).then(m.hitch(this,function(a){this._setRelatedRecords(b,a);c.resolve(a)}),m.hitch(this,this._handlerErrorResponse,c))}),m.hitch(this,this._handlerErrorResponse,c));return c.promise},_getRelatedLayersInfo:function(a){var b=a.fieldsInfo,c,d,p={};c=a.graphic.getLayer();this._relatedLayersInfo||(this._relatedLayersInfo={});g.forEach(b,function(a){var b,f,l,q;b=this._fromRelatedFieldName(a.fieldName);
f=b[0];b=b[1];f&&(this._relatedLayersInfo[f]||(g.some(c.relationships,function(a){if(a.id==f)return q=a,!0}),q&&(this._relatedLayersInfo[f]={relation:q,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[f]&&(this._relatedLayersInfo[f].relatedFields.push(b),a.statisticType&&(l=new J,l.statisticType=a.statisticType,l.onStatisticField=b,l.outStatisticFieldName=b,this._relatedLayersInfo[f].outStatistics.push(l))))},this);for(d in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(d)&&
this._relatedLayersInfo[d]&&(a=this._relatedLayersInfo[d].relation,a=c.url.replace(/[0-9]+$/,a.relatedTableId),this._relatedLayersInfo[d].relatedLayerUrl=a,p[d]=D({url:a,content:{f:"json"},callbackParamName:"callback"}));return k(p)},_queryRelatedLayers:function(a){var b={},c;for(c in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(c)&&(b[c]=this._queryRelatedLayer({graphic:a,relatedInfo:this._relatedLayersInfo[c]}));return k(b)},_queryRelatedLayer:function(a){var b,c,d,p,f,u,e,l,q,
v,A,h,t;b=a.graphic;c=b.getLayer();d=c.url.match(/[0-9]+$/g)[0];A=a.relatedInfo;v=A.relatedLayerInfo;h=A.relatedLayerUrl;a=A.relation;g.some(v.relationships,function(a){if(a.relatedTableId===parseInt(d,10))return p=a,!0},this);p&&(f=new E,g.some(v.fields,function(a){if(a.name===p.keyField)return l=-1!==g.indexOf(["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],a.type)?"number":"string",!0}),p.relationshipTableId&&p.keyFieldInRelationshipTable?(t=new r,
this._queryRelatedRecords(b,p).then(m.hitch(this,function(a){var l;l=a[b.attributes[c.objectIdField]];a=g.map(l.features,function(a){return a.attributes[v.objectIdField]},this);A.outStatistics&&0<A.outStatistics.length&&v.supportsStatistics&&(q=new E,q.objectIds=a,q.outFields=f.outFields,q.outStatistics=A.outStatistics);q&&(u=new z(h),u.execute(q).then(m.hitch(this,function(a){var b=[];b.push(l);b.push(a);t.resolve(b)})))}))):(e="string"===l?p.keyField+"\x3d'"+b.attributes[a.keyField]+"'":p.keyField+
"\x3d"+b.attributes[a.keyField],f.where=e,f.outFields=A.relatedFields,A.outStatistics&&0<A.outStatistics.length&&v.supportsStatistics&&(q=new E,q.where=f.where,q.outFields=f.outFields,q.outStatistics=A.outStatistics),u=new z(h),e=[],e.push(u.execute(f)),q&&e.push(u.execute(q))));return e?k(e):t?t.promise:void 0},_setRelatedRecords:function(a,c){this._relatedInfo=[];for(var d in c)if(c.hasOwnProperty(d)&&c[d]){var e=c[d];this._relatedInfo[d]={};this._relatedInfo[d].relatedFeatures=e[0].features;b.isDefined(e[1])&&
(this._relatedInfo[d].relatedStatsFeatures=e[1].features)}},_handlerErrorResponse:function(a,b){a.reject(b)},_fromRelatedFieldName:function(a){var b=[];-1!==a.indexOf(this._relatedFieldPrefix)&&(a=a.split("/"),b=a.slice(1));return b},_toRelatedFieldName:function(a){var b="";a&&0<a.length&&(b=this._relatedFieldPrefix+a[0]+"/"+a[1]);return b},_queryRelatedRecords:function(a,b){var c=a.getLayer(),d=new C;d.outFields=["*"];d.relationshipId=b.id;d.objectIds=[a.attributes[c.objectIdField]];return c.queryRelatedFeatures(d)}});
a("extend-esri")&&(t.PopupInfo=t.PopupInfoTemplate=n);return n})},"esri/tasks/RelationshipQuery":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/has","../kernel"],function(n,m,g,h,e){n=n(null,{declaredClass:"esri.tasks.RelationshipQuery",definitionExpression:"",relationshipId:null,returnGeometry:!1,objectIds:null,outSpatialReference:null,outFields:null,toJson:function(){var a={definitionExpression:this.definitionExpression,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,
maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},e=this.objectIds,c=this.outFields,k=this.outSpatialReference;e&&(a.objectIds=e.join(","));c&&(a.outFields=c.join(","));k&&(a.outSR=k.wkid||g.toJson(k.toJson()));a._ts=this._ts;return a}});h("extend-esri")&&m.setObject("tasks.RelationshipQuery",n,e);return n})},"esri/dijit/PopupRenderer":function(){define("require dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/sniff dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojox/html/entities dijit/_Widget dijit/_Templated ../kernel ../urlUtils ./_EventedWidget dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),
function(n,m,g,h,e,a,r,c,k,b,t,D,E,z,C,J,G,d,w,K){var M=0;m=m([w,C,J],{declaredClass:"esri.dijit._PopupRenderer",constructor:function(){this._nls=h.mixin({},K.widgets.popup)},templateString:"\x3cdiv class\x3d'esriViewPopup'\x3e\x3cdiv class\x3d'mainSection'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_title'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d'_description'\x3e\x3c/div\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'attachmentsSection hidden'\x3e\x3cdiv\x3e${_nls.NLS_attach}:\x3c/div\x3e\x3cul dojoAttachPoint\x3d'_attachmentsList'\x3e\x3c/ul\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaSection hidden'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_mediaTitle'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv class\x3d'caption' dojoAttachPoint\x3d'_mediaCaption'\x3e\x3c/div\x3e\x3cdiv class\x3d'gallery' dojoAttachPoint\x3d'_gallery'\x3e\x3cdiv class\x3d'mediaHandle prev' dojoAttachPoint\x3d'_prevMedia' dojoAttachEvent\x3d'onclick: _goToPrevMedia'\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaHandle next' dojoAttachPoint\x3d'_nextMedia' dojoAttachEvent\x3d'onclick: _goToNextMedia'\x3e\x3c/div\x3e\x3cul class\x3d'summary'\x3e\x3cli class\x3d'image mediaCount hidden' dojoAttachPoint\x3d'_imageCount'\x3e0\x3c/li\x3e\x3cli class\x3d'image mediaIcon hidden'\x3e\x3c/li\x3e\x3cli class\x3d'chart mediaCount hidden' dojoAttachPoint\x3d'_chartCount'\x3e0\x3c/li\x3e\x3cli class\x3d'chart mediaIcon hidden'\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'frame' dojoAttachPoint\x3d'_mediaFrame'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummarySection hidden' dojoAttachPoint\x3d'_editSummarySection'\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3cdiv class\x3d'break hidden' dojoAttachPoint\x3d'_mediaBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummary' dojoAttachPoint\x3d'_editSummary'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",
showTitle:!0,startup:function(){this.inherited(arguments);this.template.getComponents(this.graphic).then(h.hitch(this,this._handleComponentsSuccess),h.hitch(this,this._handleComponentsError))},destroy:function(){this._dfd&&this._dfd.cancel();this._destroyFrame();this.template=this.graphic=this._nls=this._mediaInfos=this._mediaPtr=this._dfd=null;this.inherited(arguments)},_goToPrevMedia:function(){0>this._mediaPtr-1||(this._mediaPtr--,this._updateUI(),this._displayMedia())},_goToNextMedia:function(){this._mediaPtr+
1!==this._mediaInfos.length&&(this._mediaPtr++,this._updateUI(),this._displayMedia())},_updateUI:function(){var c=this._mediaInfos,f=c.length,u=this.domNode,d=this._prevMedia,l=this._nextMedia;if(1<f){var q=0,v=0;e.forEach(c,function(a){"image"===a.type?q++:-1!==a.type.indexOf("chart")&&v++});q&&(b.set(this._imageCount,"innerHTML",q),a.query(".summary .image",u).removeClass("hidden"));v&&(b.set(this._chartCount,"innerHTML",v),a.query(".summary .chart",u).removeClass("hidden"))}else a.query(".summary",
u).addClass("hidden"),t.add(d,"hidden"),t.add(l,"hidden");c=this._mediaPtr;0===c?t.add(d,"hidden"):t.remove(d,"hidden");c===f-1?t.add(l,"hidden"):t.remove(l,"hidden");this._destroyFrame()},_displayMedia:function(){var c=this._mediaInfos[this._mediaPtr],f=c.title,u=c.caption,d=a.query(".mediaSection .hzLine",this.domNode)[0];b.set(this._mediaTitle,"innerHTML",f);t[f?"remove":"add"](this._mediaTitle,"hidden");b.set(this._mediaCaption,"innerHTML",u);t[u?"remove":"add"](this._mediaCaption,"hidden");t[f&&
u?"remove":"add"](d,"hidden");this._rid=null;if("image"===c.type)this._showImage(c.value);else{var l=this,f=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"],u=c.value.theme||this.chartTheme;h.isString(u)&&(u=u.replace(/\./gi,"/"),-1===u.indexOf("/")&&(u="dojox/charting/themes/"+u));u||(u="./Rainbow");f.push(u);try{var q=this._rid=M++;n(f,function(a,b,f){q===l._rid&&(l._rid=null,l._showChart(c.type,c.value,a,b,f))})}catch(v){console.log("PopupRenderer: error loading modules")}}},_preventNewTab:function(a){return(a=
a&&h.trim(a).toLowerCase())&&(0===a.indexOf("mailto:")||0===a.indexOf("tel:"))},_showImage:function(b){t.add(this._mediaFrame,"image");var c=E.get(this._gallery,"height"),p;b.linkURL&&(p=D.create("a",{href:b.linkURL,target:this._preventNewTab(b.linkURL)?"":"_blank"},this._mediaFrame));D.create("img",{className:"esriPopupMediaImage",src:b.sourceURL},p||this._mediaFrame);var d=a.query(".esriPopupMediaImage",this._mediaFrame)[0],l=this,q;q=g.connect(d,"onload",function(){g.disconnect(q);q=null;l._imageLoaded(d,
c)})},_showChart:function(a,b,c,d,l){t.remove(this._mediaFrame,"image");c=this._chart=new c(D.create("div",{"class":"chart"},this._mediaFrame),{margins:{l:4,t:4,r:4,b:4}});l&&c.setTheme(l);switch(a){case "piechart":c.addPlot("default",{type:"Pie",labels:!1});c.addSeries("Series A",b.fields);break;case "linechart":c.addPlot("default",{type:"Markers"});c.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});c.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});e.forEach(b.fields,
function(a,b){a.x=b+1});c.addSeries("Series A",b.fields);break;case "columnchart":c.addPlot("default",{type:"Columns",gap:3});c.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});c.addSeries("Series A",b.fields);break;case "barchart":c.addPlot("default",{type:"Bars",gap:3}),c.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),c.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),c.addSeries("Series A",b.fields)}this._action=new d(c);c.render()},
_destroyFrame:function(){this._rid=null;this._chart&&(this._chart.destroy(),this._chart=null);this._action&&(this._action.destroy(),this._action=null);b.set(this._mediaFrame,"innerHTML","")},_imageLoaded:function(a,b){var c=a.height;c<b&&E.set(a,"marginTop",Math.round((b-c)/2)+"px")},_attListHandler:function(a,c){if(a===this._dfd){this._dfd=null;var f="";c instanceof Error||!c||!c.length||e.forEach(c,function(a){f+="\x3cli\x3e";f+="\x3ca href\x3d'"+d.addProxy(a.url)+"' target\x3d'_blank'\x3e"+(a.name||
"[No name]")+"\x3c/a\x3e";f+="\x3c/li\x3e"});b.set(this._attachmentsList,"innerHTML",f||"\x3cli\x3e"+this._nls.NLS_noAttach+"\x3c/li\x3e")}},_handleComponentsSuccess:function(c){if(c){var f=this.showTitle?c.title:"",d=c.description,p=c.fields,l=c.mediaInfos,q=this.domNode,v=this._nls,A=this,g=this.template,r=this.graphic;this._prevMedia.title=v.NLS_prevMedia;this._nextMedia.title=v.NLS_nextMedia;b.set(this._title,"innerHTML",f);f||t.add(this._title,"hidden");!c.hasDescription&&p&&(d="",e.forEach(p,
function(a){d+="\x3ctr valign\x3d'top'\x3e";d+="\x3ctd class\x3d'attrName'\x3e"+z.encode(a[0])+"\x3c/td\x3e";d+="\x3ctd class\x3d'attrValue'\x3e"+a[1].replace(/^\s*(https?:\/\/[^\s]+)\s*$/i,"\x3ca target\x3d'_blank' href\x3d'$1' title\x3d'$1'\x3e"+v.NLS_moreInfo+"\x3c/a\x3e")+"\x3c/td\x3e";d+="\x3c/tr\x3e"}),d&&(d="\x3ctable class\x3d'attrTable' cellpadding\x3d'0px' cellspacing\x3d'0px'\x3e"+d+"\x3c/table\x3e"));b.set(this._description,"innerHTML",d);d||t.add(this._description,"hidden");a.query("a",
this._description).forEach(function(a){A._preventNewTab(a.href)?"_blank"===a.target&&b.remove(a,"target"):b.set(a,"target","_blank")});f&&d?a.query(".mainSection .hzLine",q).removeClass("hidden"):f||d?a.query(".mainSection .hzLine",q).addClass("hidden"):a.query(".mainSection",q).addClass("hidden");if(f=this._dfd=g.getAttachments(r))f.addBoth(h.hitch(this,this._attListHandler,f)),b.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+v.NLS_searching+"...\x3c/li\x3e"),a.query(".attachmentsSection",q).removeClass("hidden");
l&&l.length&&(a.query(".mediaSection",q).removeClass("hidden"),k.setSelectable(this._mediaFrame,!1),this._mediaInfos=l,this._mediaPtr=0,this._updateUI(),this._displayMedia());c.editSummary&&(b.set(this._editSummary,"innerHTML",c.editSummary),l&&l.length&&t.remove(this._mediaBreak,"hidden"),t.remove(this._editSummarySection,"hidden"))}},_handleComponentsError:function(a){console.log("PopupRenderer: error loading template",a)}});r("extend-esri")&&h.setObject("dijit._PopupRenderer",m,G);return m})},
"dojox/html/entities":function(){define(["dojo/_base/lang"],function(n){var m=n.getObject("dojox.html.entities",!0),g=function(e,a){var g,c;if(a._encCache&&a._encCache.regexp&&a._encCache.mapper&&a.length==a._encCache.length)g=a._encCache.mapper,c=a._encCache.regexp;else{g={};c=["["];var k;for(k=0;k<a.length;k++)g[a[k][0]]="\x26"+a[k][1]+";",c.push(a[k][0]);c.push("]");c=new RegExp(c.join(""),"g");a._encCache={mapper:g,regexp:c,length:a.length}}return e=e.replace(c,function(a){return g[a]})},h=function(e,
a){var g,c;if(a._decCache&&a._decCache.regexp&&a._decCache.mapper&&a.length==a._decCache.length)g=a._decCache.mapper,c=a._decCache.regexp;else{g={};c=["("];var k;for(k=0;k<a.length;k++){var b="\x26"+a[k][1]+";";k&&c.push("|");g[b]=a[k][0];c.push(b)}c.push(")");c=new RegExp(c.join(""),"g");a._decCache={mapper:g,regexp:c,length:a.length}}return e=e.replace(c,function(a){return g[a]})};m.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];m.latin=[["\u00a1","iexcl"],["\u00a2",
"cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],
["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],
["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1",
"ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],
["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],
["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],
["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],
["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665",
"hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039",
"lsaquo"],["\u203a","rsaquo"]];m.encode=function(e,a){e&&(a?e=g(e,a):(e=g(e,m.html),e=g(e,m.latin)));return e};m.decode=function(e,a){e&&(a?e=h(e,a):(e=h(e,m.html),e=h(e,m.latin)));return e};return m})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(n,m,g,h,e,a,r,c,k,b,t,D,E){function z(){}
function C(a){return function(b,c,e,k){return b&&"string"==typeof c&&b[c]==z?b.on(c.substring(2).toLowerCase(),r.hitch(e,k)):a.apply(g,arguments)}}n.around(g,"connect",C);a.connect&&n.around(a,"connect",C);n=h("dijit._Widget",[t,D,E],{onClick:z,onDblClick:z,onKeyDown:z,onKeyPress:z,onKeyUp:z,onMouseDown:z,onMouseMove:z,onMouseOut:z,onMouseOver:z,onMouseLeave:z,onMouseEnter:z,onMouseUp:z,constructor:function(a){this._toConnect={};for(var b in a)this[b]===z&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=
a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===z?g.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(b,c){a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(b,c)},attr:function(a,
b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?c("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});e("dijit-legacy-requires")&&k(0,function(){require(["dijit/_base"])});return n})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(n,m,g,h,e,a,r,c,k,b,t,D,E,z,C,J,G,d,w,K,M,p,f){function u(a){return function(b){c[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}E.add("dijit-legacy-requires",!z.isAsync);E.add("dojo-bidi",!1);E("dijit-legacy-requires")&&G(0,function(){n(["dijit/_base/manager"])});var x={};h=a("dijit._WidgetBase",[d,M],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:u("lang"),dir:"",_setDirAttr:u("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:h.blankGif||n.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},f;for(f in b.attributeMap)c.push(f);for(f in b)/^on/.test(f)&&(a[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+
f.substr(5,f.length-9),b.attributeMap&&f in b.attributeMap||c.push(f))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=r.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,C.mixin(this,a));this.postMixInProperties();this.id||(this.id=f.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=K.body(this.ownerDocument);f.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var l=this.srcNodeRef;l&&l.parentNode&&this.domNode!==l&&(l.parentNode.replaceChild(this.domNode,l),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);
m.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));k.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,m.forEach(this.getChildren(),function(a){a._started||a._destroyed||!C.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,C.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(f.findWidgets(this.domNode,
this.containerNode),b);this.destroyRendering(a);f.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?c.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=
this.domNode;C.isObject(a)?D.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,f){f=3<=arguments.length?f:this.attributeMap[a];m.forEach(C.isArray(f)?f:[f],function(f){var l=this[f.node||f||"domNode"];switch(f.type||"attribute"){case "attribute":C.isFunction(b)&&(b=C.hitch(this,b));f=f.attribute?f.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;l.tagName?c.set(l,f,b):l.set(f,b);break;case "innerText":l.innerHTML="";l.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":l.innerHTML=b;break;case "class":k.replace(l,b,this[a]);break;case "toggleClass":k.toggle(l,f.className||a,b)}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var f=this[c.s];if(C.isFunction(f))var l=f.apply(this,Array.prototype.slice.call(arguments,1));else{var f=this.focusNode&&!C.isFunction(this.focusNode)?"focusNode":
"domNode",q=this[f]&&this[f].tagName,d;if((d=q)&&!(d=x[q])){d=this[f];var p={},e;for(e in d)p[e.toLowerCase()]=!0;d=x[q]=p}e=d;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:e&&c.l in e&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?f:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return l||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});
return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;!this._created||c===b||c!==c&&b!==b||(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var f,l=this["on"+a];l&&(f=l.apply(this,c?
c:[b]));this._started&&!this._beingDestroyed&&J.emit(this.domNode,a.toLowerCase(),b);return f},on:function(a,b){var c=this._onMap(a);return c?g.after(this,c,b,!0):this.own(J(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},f;for(f in b.prototype)/^on/.test(f)&&(c[f.replace(/^on/,"").toLowerCase()]=f)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?
f.findWidgets(this.containerNode):[]},getParent:function(){return f.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(e.connect(a,b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(w.subscribe(a,C.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():t.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=D.get(this.domNode,"display")},
placeAt:function(a,c){var d=!a.tagName&&f.byId(a);!d||!d.addChild||c&&"number"!==typeof c?(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:d.domNode:r.byId(a,this.ownerDocument),b.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,c);return this},defer:function(a,b){var c=setTimeout(C.hitch(this,function(){c&&(c=null,this._destroyed||C.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),
c=null);return null}}}});E("dojo-bidi")&&h.extend(p);return h})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(n,m,g){return g("dijit.Destroyable",null,{destroy:function(g){this._destroyed=!0},own:function(){var g=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(e){function a(){c.remove();n.forEach(k,function(a){a.remove()})}var h,c=m.before(this,"destroy",function(a){e[h](a)}),k=[];e.then?(h="cancel",e.then(a,a)):n.forEach(g,
function(b){"function"===typeof e[b]&&(h||(h=b),k.push(m.after(e,b,a,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(n,m,g,h,e,a){n=h("dijit._OnDijitClickMixin",null,{connect:function(e,c,k){return this.inherited(arguments,[e,"ondijitclick"==c?a:c,k])}});n.a11yclick=a;return n})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],
function(n,m,g,h){h.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",null,{_focusManager:n})})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(n,m,g,h){g(function(){m("highcontrast")&&n.add(h.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),
function(n,m,g,h,e,a,r){e.add("highcontrast",function(){var a=r.doc.createElement("div");try{a.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(m.blankGif||n.toUrl("./resources/blank.gif"))+'");';r.body().appendChild(a);var k=h.getComputedStyle(a),b=k.backgroundImage;return k.borderTopColor==k.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b)}catch(t){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+
t.toString()),!1}finally{8>=e("ie")?a.outerHTML="":r.body().removeChild(a)}});a(function(){e("highcontrast")&&g.add(r.body(),"dj_a11y")});return e})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),function(n,m,g,h,e,a,r){a.extend(n,{waiRole:"",waiState:""});return e("dijit._Templated",[m,g],{constructor:function(){r.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin",
"","2.0")},_processNode:function(a,e){var b=this.inherited(arguments),c=e(a,"waiRole");c&&a.setAttribute("role",c);(c=e(a,"waiState"))&&h.forEach(c.split(/\s*,\s*/),function(b){-1!=b.indexOf("-")&&(b=b.split("-"),a.setAttribute("aria-"+b[0],b[1]))});return b}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(n,m,g,h,e,a,r,c){var k=m("dijit._TemplatedMixin",c,{templateString:null,
templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,c=this;return r.substitute(a,this,function(a,e){"!"==e.charAt(0)&&(a=h.getObject(e.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+e);return null==a?"":"!"==e.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||
(this.templateString=n(this.templatePath,{sanitize:!0}));var a=k.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(h.isString(a)){if(c=g.toDom(this._stringRepl(a),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});
k._templateCache={};k.getCachedTemplate=function(a,c,e){var b=k._templateCache,h=a,m=b[h];if(m){try{if(!m.ownerDocument||m.ownerDocument==(e||document))return m}catch(J){}g.destroy(m)}a=r.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return b[h]=a;c=g.toDom(a,e);if(1!=c.nodeType)throw Error("Invalid template: "+a);return b[h]=c};a("ie")&&e(window,"unload",function(){var a=k._templateCache,c;for(c in a){var e=a[c];"object"==typeof e&&g.destroy(e);delete a[c]}});return k})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(n){return n.cache})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(n,m,g,h,e,a,r,c,k){var b=e.delegate(c,{mouseenter:a.enter,mouseleave:a.leave,keypress:g._keypress}),t;g=h("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);
this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var g=!0,k=this.attachScope||this,h=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(h)for(var d=h.split(/\s*,\s*/);h=
d.shift();)e.isArray(k[h])?k[h].push(a):k[h]=a,g="containerNode"!=h,this._attachPoints.push(h);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event"))for(h=b.split(/\s*,\s*/),d=e.trim;b=h.shift();)if(b){var m=null;-1!=b.indexOf(":")?(m=b.split(":"),b=d(m[0]),m=d(m[1])):b=d(b);m||(m=b);this._attachEvents.push(c(a,b,e.hitch(k,m)))}return g},_attach:function(a,c,e){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?t||(t=n("./a11yclick")):b[c]||c;return r(a,c,e)},_detachTemplateNodes:function(){var a=
this.attachScope||this;m.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];m.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});e.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(n,m,g,h,e){return g("dijit._WidgetsInTemplateMixin",
null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var a=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);e.parse(a,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(h.hitch(this,function(a){this._startupWidgets=a;for(var c=0;c<a.length;c++)this._processTemplateNode(a[c],
function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,e,c){return e(a,"dojoType")||e(a,"data-dojo-type")?
!0:this.inherited(arguments)},startup:function(){n.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(n,m,g,h,e,a,r,c,k,b,t,D,E,z,C,J){function G(a){return eval("("+a+")")}function d(a){var b=
a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<K){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=K}return b}function w(a,b){b||(b=n);var c=b._dojoParserCtorMap||(b._dojoParserCtorMap={}),f=a.join();if(!c[f]){for(var d=[],e=0,p=a.length;e<p;e++){var h=a[e];d[d.length]=c[h]=c[h]||g.getObject(h)||~h.indexOf("/")&&b(h)}e=d.shift();c[f]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return c[f]}new Date("X");var K=0;k.after(g,"extend",
function(){K++},!0);var M={_clearCache:function(){K++;_ctorMap={}},_functionFromScript:function(a,b){var c="",f="",d=a.getAttribute(b+"args")||a.getAttribute("args"),e=a.getAttribute("with"),d=(d||"").split(/\s*,\s*/);e&&e.length&&h.forEach(e.split(/\s*,\s*/),function(a){c+="with("+a+"){";f+="}"});return new Function(d,c+a.innerHTML+f)},instantiate:function(a,b,c){b=b||{};c=c||{};var f=(c.scope||m._scopeName)+"Type",d="data-"+(c.scope||m._scopeName)+"-",e=d+"type",g=d+"mixins",p=[];h.forEach(a,function(a){var c=
f in b?b[f]:a.getAttribute(e)||a.getAttribute(f);if(c){var d=a.getAttribute(g),c=d?[c].concat(d.split(/\s*,\s*/)):[c];p.push({node:a,types:c})}});return this._instantiate(p,b,c)},_instantiate:function(a,c,d,e){function f(a){c._started||d.noStart||h.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}a=h.map(a,function(a){var b=a.ctor||w(a.types,d.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,
a.node,c,d,a.scripts,a.inherited)},this);return e?b(a).then(f):f(a)},construct:function(a,b,e,n,l,q){function f(a){D&&g.setObject(D,a);for(x=0;x<I.length;x++)k[I[x].advice||"after"](a,I[x].method,g.hitch(a,I[x].func),!0);for(x=0;x<N.length;x++)N[x].call(a);for(x=0;x<O.length;x++)a.watch(O[x].prop,O[x].func);for(x=0;x<P.length;x++)C(a,P[x].event,P[x].func);return a}var p=a&&a.prototype;n=n||{};var r={};n.defaults&&g.mixin(r,n.defaults);q&&g.mixin(r,q);var u;E("dom-attributes-explicit")?u=b.attributes:
E("dom-attributes-specified-flag")?u=h.filter(b.attributes,function(a){return a.specified}):(q=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),u=h.map(q.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var w=n.scope||m._scopeName;q="data-"+w+"-";var y={};"dojo"!==w&&(y[q+"props"]=
"data-dojo-props",y[q+"type"]="data-dojo-type",y[q+"mixins"]="data-dojo-mixins",y[w+"type"]="dojotype",y[q+"id"]="data-dojo-id");for(var x=0,B,w=[],D,H;B=u[x++];){var F=B.name,L=F.toLowerCase();B=B.value;switch(y[L]||L){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":H=B;break;case "data-dojo-id":case "jsid":D=B;break;case "data-dojo-attach-point":case "dojoattachpoint":r.dojoAttachPoint=B;break;case "data-dojo-attach-event":case "dojoattachevent":r.dojoAttachEvent=
B;break;case "class":r["class"]=b.className;break;case "style":r.style=b.style&&b.style.cssText;break;default:if(F in p||(F=d(a)[L]||F),F in p)switch(typeof p[F]){case "string":r[F]=B;break;case "number":r[F]=B.length?Number(B):NaN;break;case "boolean":r[F]="false"!=B.toLowerCase();break;case "function":""===B||-1!=B.search(/[^\w\.]+/i)?r[F]=new Function(B):r[F]=g.getObject(B,!1)||new Function(B);w.push(F);break;default:L=p[F],r[F]=L&&"length"in L?B?B.split(/\s*,\s*/):[]:L instanceof Date?""==B?new Date(""):
"now"==B?new Date:t.fromISOString(B):L instanceof c?m.baseUrl+B:G(B)}else r[F]=B}}for(u=0;u<w.length;u++)y=w[u].toLowerCase(),b.removeAttribute(y),b[y]=null;if(H)try{H=G.call(n.propsThis,"{"+H+"}"),g.mixin(r,H)}catch(Q){throw Error(Q.toString()+" in data-dojo-props\x3d'"+H+"'");}g.mixin(r,e);l||(l=a&&(a._noScript||p._noScript)?[]:z("\x3e script[type^\x3d'dojo/']",b));var I=[],N=[],O=[],P=[];if(l)for(x=0;x<l.length;x++)y=l[x],b.removeChild(y),e=y.getAttribute(q+"event")||y.getAttribute("event"),n=
y.getAttribute(q+"prop"),H=y.getAttribute(q+"method"),w=y.getAttribute(q+"advice"),u=y.getAttribute("type"),y=this._functionFromScript(y,q),e?"dojo/connect"==u?I.push({method:e,func:y}):"dojo/on"==u?P.push({event:e,func:y}):r[e]=y:"dojo/aspect"==u?I.push({method:H,advice:w,func:y}):"dojo/watch"==u?O.push({prop:n,func:y}):N.push(y);a=(l=a.markupFactory||p.markupFactory)?l(r,b,a):new a(r,b);return a.then?a.then(f):f(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=
c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(r)||d.textDir},f;for(f in b)b[f]&&(a.inherited[f]=b[f])}return a.inherited}var d=[],f=[],e={},g=(b.scope||m._scopeName)+"Type",k="data-"+(b.scope||m._scopeName)+"-",p=k+"type",r=k+"textdir",k=k+"mixins",t=a.firstChild,y=b.inherited;if(!y){var z=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&z(a.parentNode,b)},y={dir:z(a,"dir"),lang:z(a,"lang"),textDir:z(a,r)},B;for(B in y)y[B]||
delete y[B]}for(var y={inherited:y},C,H;;)if(t)if(1!=t.nodeType)t=t.nextSibling;else if(C&&"script"==t.nodeName.toLowerCase())(F=t.getAttribute("type"))&&/^dojo\/\w/i.test(F)&&C.push(t),t=t.nextSibling;else if(H)t=t.nextSibling;else{var F=t.getAttribute(p)||t.getAttribute(g);B=t.firstChild;if(F||B&&(3!=B.nodeType||B.nextSibling)){H=null;if(F){var G=t.getAttribute(k);C=G?[F].concat(G.split(/\s*,\s*/)):[F];try{H=w(C,b.contextRequire)}catch(N){}H||h.forEach(C,function(a){~a.indexOf("/")&&!e[a]&&(e[a]=
!0,f[f.length]=a)});G=H&&!H.prototype._noScript?[]:null;y={types:C,ctor:H,parent:y,node:t,scripts:G};y.inherited=c(y);d.push(y)}else y={node:t,scripts:C,parent:y};C=G;H=t.stopParser||H&&H.prototype.stopParser&&!b.template;t=B}else t=t.nextSibling}else{if(!y||!y.node)break;t=y.node.nextSibling;H=!1;y=y.parent;C=y.scripts}var I=new D;f.length?(E("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+f.join(", ")),(b.contextRequire||n)(f,function(){I.resolve(h.filter(d,function(a){if(!a.ctor)try{a.ctor=
w(a.types,b.contextRequire)}catch(Q){}for(var c=a.parent;c&&!c.types;)c=c.parent;var d=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(d&&d.stopParser&&!b.template);a.instantiate=!c||c.instantiate&&c.instantiateChildren;return a.instantiate}))})):I.resolve(d);return I.promise},_require:function(a,b){var c=G("{"+a.innerHTML+"}"),d=[],f=[],e=new D,h=b&&b.contextRequire||n,k;for(k in c)d.push(k),f.push(c[k]);h(f,function(){for(var a=0;a<d.length;a++)g.setObject(d[a],arguments[a]);e.resolve(arguments)});
return e.promise},_scanAmd:function(a,b){var c=new D,d=c.promise;c.resolve(!0);var f=this;z("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return f._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(b,c){!b||"string"==typeof b||"nodeType"in b||(c=b,b=c.rootNode);var d=b?a.byId(b):r.body();c=c||{};var f=c.template?{template:!0}:{},e=[],h=this,k=this._scanAmd(d,c).then(function(){return h.scan(d,c)}).then(function(a){return h._instantiate(a,f,c,!0)}).then(function(a){return e=
e.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(e,k);return e}};m.parser=M;e.parseOnLoad&&J(100,M,"parse");return M})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(n,m){var g={};n.setObject("dojo.date.stamp",g);g.fromISOString=function(h,e){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var a=g._isoRegExp.exec(h),r=null;
if(a){a.shift();a[1]&&a[1]--;a[6]&&(a[6]*=1E3);e&&(e=new Date(e),m.forEach(m.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return e["get"+a]()}),function(b,c){a[c]=a[c]||b}));r=new Date(a[0]||1970,a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);100>a[0]&&r.setFullYear(a[0]||1970);var c=0,k=a[7]&&a[7].charAt(0);"Z"!=k&&(c=60*(a[8]||0)+(Number(a[9])||0),"-"!=k&&(c*=-1));k&&(c-=r.getTimezoneOffset());c&&r.setTime(r.getTime()+6E4*c)}return r};g.toISOString=function(h,
e){var a=function(a){return 10>a?"0"+a:a};e=e||{};var g=[],c=e.zulu?"getUTC":"get",k="";"time"!=e.selector&&(k=h[c+"FullYear"](),k=["0000".substr((k+"").length)+k,a(h[c+"Month"]()+1),a(h[c+"Date"]())].join("-"));g.push(k);if("date"!=e.selector){k=[a(h[c+"Hours"]()),a(h[c+"Minutes"]()),a(h[c+"Seconds"]())].join(":");c=h[c+"Milliseconds"]();e.milliseconds&&(k+="."+(100>c?"0":"")+a(c));if(e.zulu)k+="Z";else if("time"!=e.selector)var c=h.getTimezoneOffset(),b=Math.abs(c),k=k+((0<c?"-":"+")+a(Math.floor(b/
60))+":"+a(b%60));g.push(k)}return g.join("T")};return g})},"esri/dijit/_EventedWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on ../Evented dijit/_WidgetBase".split(" "),function(n,m,g,h,e,a){return n([a,e],{_onMap:function(a){var c=this.constructor._onMap,e;c&&c.FINAL||(delete this.constructor._onMap,c=this.registerConnectEvents(),c.FINAL=!0);a=a.toLowerCase();c[a]?e=this[c[a].method]:(a=this._onCamelCase(a),this[a]&&(e=a));return e},on:function(a,c){var e=this._onMap(a),
b=a.replace(/\-/g,""),g="on"+b in this.domNode;return e||!g?this.inherited(arguments):this.own(h(this.domNode,b,c))[0]},emit:function(a,c,e){var b,g,h,k=a.toLowerCase(),n=this.constructor._onMap||this.registerConnectEvents();g=this[this._onMap(k)];c=c||{};c.target||(c.target=this);g&&n&&n[k]&&(this._onObj2Arr(function(){b=Array.prototype.slice.call(arguments)},n[k].argKeys)(c),h=m.mixin({},arguments),h[2]=b,h[0]=n[k].name.replace(/^on/,""));return this.inherited(h||arguments)}})})},"*noref":1}});
define("esri/layers/GeoRSSLayer","dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(n,m,g,h,e,a,r,c,k){n=n([k],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:c.getProtocolForWebResource()+"//utility.arcgis.com/sharing/rss",constructor:function(b,c){a.defaults.geoRSSService&&(this.serviceUrl=a.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=r({url:this.serviceUrl,
content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?g.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(a){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});h("extend-esri")&&m.setObject("layers.GeoRSSLayer",n,e);return n});